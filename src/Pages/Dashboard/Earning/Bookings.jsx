import { Col, Row } from "antd";
import React, { useEffect } from "react";
import { LiaHandHoldingUsdSolid } from "react-icons/lia";
import style from "./Earning.module.css";
import { useState } from "react";
import { useLocation } from "react-router-dom";
import BookingsHistoryTable from "./BookingsHistoryTable";
import { baseURL } from "../../../Config";

function Bookings() {
  const [data, setData] = useState();

  useEffect(()=>{
    async function getAPi(){
      const response = await baseURL.get('/booking-complete',{
        headers: {
          "Content-Type": "application/json",
          authorization: `Bearer ${localStorage.getItem('access_token')}`,
        }
      });
      setData(response?.data);
    }
    getAPi();
  }, []);
  

  return (
    <div style={{ padding: "0px 50px" }}>
      <h2 style={{ fontSize: "25px", fontWeight: "normal" }}>Total Bookings</h2>
      <Row
        gutter={{
          xs: 8,
          sm: 18,
          md: 24,
          lg: 45,
        }}
        style={{ marginTop: "20px" }}
      >
        <Col className="gutter-row" span={8}>
          <div
            style={{
              background: `#F66D0F`,
            }}
            className={style.card}
          >
            <div>
              <h2 className={style.cardTitle}>{data?.total_booking}</h2>
              <div className={style.statusTitle}>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M9.33325 2.3335V5.8335"
                    stroke="white"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M18.6667 2.3335V5.8335"
                    stroke="white"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M8.16675 15.1665H17.5001"
                    stroke="white"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M8.16675 19.8335H14.0001"
                    stroke="white"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M18.6667 4.0835C22.5517 4.2935 24.5 5.77516 24.5 11.2585V18.4685C24.5 23.2752 23.3333 25.6785 17.5 25.6785H10.5C4.66667 25.6785 3.5 23.2752 3.5 18.4685V11.2585C3.5 5.77516 5.44833 4.30516 9.33333 4.0835H18.6667Z"
                    stroke="white"
                    stroke-width="1.5"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>

                <h2>Total Bookings</h2>
              </div>
            </div>
          </div>
        </Col>
        <Col className="gutter-row" span={8}>
          <div
            style={{
              background: `#7CC605`,
            }}
            className={style.card}
          >
            <div>
              <h2 className={style.cardTitle}>{data?.booking_completed}</h2>
              <div className={style.statusTitle}>
                <svg
                  width="26"
                  height="28"
                  viewBox="0 0 26 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M5.86333 0.869532C5.58442 0.984375 5.5352 1.12109 5.5188 1.81016L5.49692 2.46094H4.17348C2.70786 2.46094 2.45083 2.49922 1.88755 2.8C1.47739 3.01875 0.930514 3.59297 0.728171 4.01953C0.410983 4.68672 0.421921 4.38594 0.421921 12.8242C0.421921 19.4523 0.438327 20.6445 0.503952 20.9727C0.722702 22.0008 1.46098 22.7938 2.48911 23.1109C2.70239 23.1711 3.64848 23.1875 8.14926 23.1875H13.5524L13.7165 23.5539C14.2743 24.8008 15.3461 25.8836 16.6368 26.5016C18.3649 27.3328 20.268 27.3328 21.9961 26.5016C23.6696 25.6977 24.7961 24.3141 25.3211 22.4219C25.4196 22.0719 25.436 21.8586 25.436 20.9453C25.436 20.0266 25.4196 19.8187 25.3157 19.4578C24.6977 17.2211 23.1008 15.5914 20.9571 15.0117L20.5196 14.8914L20.4922 9.78359C20.4649 4.70312 20.4649 4.67578 20.3446 4.36406C19.9891 3.43438 19.2891 2.77813 18.3868 2.54297C18.1407 2.48281 17.7524 2.46094 16.7407 2.46094H15.4172L15.3954 1.79922L15.379 1.1375L15.1985 0.978907C14.9961 0.798437 14.7774 0.776564 14.5313 0.902344C14.4438 0.946095 14.3454 1.03359 14.3125 1.08828C14.2852 1.14844 14.2579 1.48203 14.2579 1.82656V2.46094H10.4844H6.71098V1.89766C6.71098 1.47656 6.68911 1.29609 6.61255 1.14844C6.47036 0.864063 6.16411 0.74922 5.86333 0.869532ZM5.50786 4.15625C5.50786 4.79609 5.58442 5.03672 5.83051 5.1625C6.03833 5.27188 6.18051 5.27188 6.38286 5.16797C6.64536 5.03125 6.71098 4.83438 6.71098 4.18359V3.60938H10.4844H14.2579V4.23828C14.2579 4.93828 14.3071 5.08047 14.586 5.19531C14.8211 5.29375 15.1 5.22266 15.2641 5.02578C15.4008 4.86719 15.4063 4.82344 15.4063 4.23281V3.60938H16.5821C17.2219 3.60938 17.8727 3.63672 18.0258 3.66953C18.5454 3.77891 19.0266 4.21094 19.229 4.74688C19.2727 4.86719 19.311 5.28828 19.3274 5.78047L19.3602 6.61719H10.4899H1.62505V5.79688C1.62505 5.10781 1.64145 4.93281 1.73989 4.67578C1.91489 4.2 2.39614 3.78438 2.9102 3.65859C3.00317 3.63672 3.62114 3.62031 4.2938 3.61484L5.50786 3.60938V4.15625ZM19.2891 11.2602V14.7602L19.0321 14.7875C17.818 14.9352 17.3149 15.0664 16.5821 15.4383C15.9696 15.7445 15.5649 16.0289 15.0672 16.5047C13.7383 17.7734 13.104 19.3867 13.1805 21.2844L13.2079 22.0391H8.10005C3.12348 22.0391 2.98676 22.0391 2.70239 21.9297C2.31958 21.7875 2.0188 21.5195 1.81645 21.1586L1.65239 20.8633L1.63598 14.3117L1.62505 7.76562H10.4571H19.2891V11.2602ZM20.1422 16.0289C22.0836 16.368 23.6368 17.7953 24.1672 19.7148C24.3368 20.3438 24.3368 21.5469 24.1672 22.1758C23.943 22.9961 23.5165 23.7672 22.9586 24.3578C21.2797 26.1297 18.6547 26.4578 16.6313 25.1453C15.4883 24.407 14.7172 23.2805 14.4165 21.9023C14.318 21.4484 14.329 20.3547 14.4383 19.8953C14.9196 17.9102 16.3743 16.4828 18.3649 16.0508C18.7915 15.9633 19.6993 15.9469 20.1422 16.0289Z"
                    fill="white"
                  />
                  <path
                    d="M5.17422 12.682C5.04844 12.8078 5.01562 12.8898 5.01562 13.0703C5.01562 13.3547 5.08672 13.4859 5.28906 13.5898C5.42578 13.6609 6.03828 13.6719 9.91016 13.6719C13.782 13.6719 14.3945 13.6609 14.5312 13.5898C14.7336 13.4859 14.8047 13.3547 14.8047 13.0703C14.8047 12.8898 14.7719 12.8078 14.6461 12.682L14.4875 12.5234H9.91016H5.33281L5.17422 12.682Z"
                    fill="white"
                  />
                  <path
                    d="M5.27812 16.2203C5.08125 16.3242 5.01562 16.4555 5.01562 16.7344C5.01562 16.9148 5.04844 16.9969 5.17422 17.1227L5.33281 17.2812H8.17109C10.9766 17.2812 11.0094 17.2812 11.1352 17.1664C11.4141 16.9039 11.4141 16.5102 11.1352 16.275L10.9656 16.1328H8.19844C5.85781 16.1383 5.40391 16.1492 5.27812 16.2203Z"
                    fill="white"
                  />
                  <path
                    d="M22.0344 18.8289C21.9688 18.8672 21.236 19.5453 20.4047 20.3383C19.5735 21.1313 18.8243 21.8422 18.7313 21.9188L18.5727 22.0555L17.6539 21.1422C16.7461 20.2398 16.7352 20.2344 16.4946 20.2344C16.2102 20.2344 16.0516 20.3328 15.9532 20.557C15.8055 20.9125 15.8711 21.0055 17.1453 22.2742L18.3375 23.4609H18.6C18.8516 23.4609 18.868 23.45 19.3875 22.9523C19.6774 22.6734 20.5578 21.8313 21.3399 21.0875C22.8875 19.6109 22.986 19.4852 22.8438 19.1406C22.7125 18.8234 22.3188 18.6703 22.0344 18.8289Z"
                    fill="white"
                  />
                </svg>

                <h2>Completed Bookings</h2>
              </div>
            </div>
          </div>
        </Col>
        <Col className="gutter-row" span={8}>
          <div
            style={{
              background: `#FC4400`,
            }}
            className={style.card}
          >
            <div>
              <h2 className={style.cardTitle}>{data?.booking_cancel}</h2>
              <div className={style.statusTitle}>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11.2028 17.6597C10.9788 17.6597 10.7548 17.5745 10.5845 17.403C10.2427 17.0612 10.2427 16.5082 10.5845 16.1664L16.1752 10.5757C16.517 10.2339 17.07 10.2339 17.4118 10.5757C17.7537 10.9175 17.7537 11.4705 17.4118 11.8124L11.8212 17.403C11.6508 17.5745 11.4268 17.6597 11.2028 17.6597Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M16.7957 17.6631C16.5717 17.6631 16.3477 17.5779 16.1774 17.4064L10.5821 11.8099C10.2402 11.4681 10.2402 10.9151 10.5821 10.5733C10.9251 10.2314 11.4781 10.2314 11.8187 10.5733L17.4141 16.1698C17.7559 16.5116 17.7559 17.0646 17.4141 17.4064C17.2437 17.5779 17.0186 17.6631 16.7957 17.6631Z"
                    fill="white"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M8.94242 4.0835C5.99075 4.0835 4.08325 6.10533 4.08325 9.2355V18.7648C4.08325 21.895 5.99075 23.9168 8.94242 23.9168H19.0551C22.0079 23.9168 23.9166 21.895 23.9166 18.7648V9.2355C23.9166 6.10533 22.0079 4.0835 19.0563 4.0835H8.94242ZM19.0551 25.6668H8.94242C4.98859 25.6668 2.33325 22.8925 2.33325 18.7648V9.2355C2.33325 5.10783 4.98859 2.3335 8.94242 2.3335H19.0563C23.0101 2.3335 25.6666 5.10783 25.6666 9.2355V18.7648C25.6666 22.8925 23.0101 25.6668 19.0551 25.6668Z"
                    fill="white"
                  />
                </svg>

                <h2>Cancelled Bookings</h2>
              </div>
            </div>
          </div>
        </Col>
      </Row>
      <h2
        style={{ fontSize: "25px", margin: "30px 0px", fontWeight: "normal" }}
      >
        Transaction History
      </h2>

      <BookingsHistoryTable />
    </div>
  );
}

export default Bookings;
