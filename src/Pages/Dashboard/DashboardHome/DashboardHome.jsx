import { Col, Row } from "antd";
import React, { useEffect, useState } from "react";
import "./DashboardHome.css";
import InvoiceTable from "./InvoiceTable";
import styles from "./Dashboard.module.css";
import { baseURL } from "../../../Config";

function DashboardHome() {
  const [data, setData] = useState();

  useEffect(()=>{
    async function getAPi(){
      const response = await baseURL.get(`/booking-complete`,{
        headers: {
          "Content-Type": "application/json",
          authorization: `Bearer ${localStorage.getItem('access_token')}`,
        }
      });
      console.log(response.data);
      setData(response.data);
    }
    getAPi();
  }, []);

  return (
    <div className="dashboardContainer">
      <Row>
        <h2
          style={{
            fontSize: "25px",
            marginBottom: "10px",
            fontWeight: "normal",
          }}
        >
          Service Status
        </h2>
      </Row>

      <div className={styles.statusContainer}>
        <div className={styles.completed}>
          <div className={styles.statusBox}>
            <h2>{data?.booking_completed}</h2>
            <div className={styles.icon}>
              <svg
                width="28"
                height="28"
                viewBox="0 0 28 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_281_2843)">
                  <path
                    d="M12.6055 0.0382881C10.7516 0.213287 8.68437 0.875006 7.02734 1.83204C3.77343 3.70782 1.35624 6.86329 0.432025 10.4289C0.0874939 11.7742 0.0328064 12.2883 0.0328064 14C0.0328064 15.3563 0.0437439 15.6461 0.14765 16.2422C0.661713 19.1953 1.89765 21.6399 3.93749 23.7563C6.03202 25.9328 8.67343 27.3109 11.7578 27.8523C12.3539 27.9563 12.6437 27.9672 14 27.9672C15.7117 27.9672 16.2258 27.9125 17.5711 27.568C23.4336 26.0531 27.7758 20.6992 27.9836 14.7055C28.0219 13.6609 27.9891 13.4969 27.6719 13.2125C27.2508 12.8352 26.7312 12.8133 26.2555 13.1688C25.9711 13.382 25.8836 13.65 25.8453 14.4484C25.725 17.0242 24.8336 19.4141 23.2586 21.3883C22.8375 21.9188 21.9187 22.8375 21.3883 23.2586C19.7641 24.5547 17.7953 25.4133 15.6898 25.7414C14.8312 25.8727 13.1687 25.8727 12.3102 25.7414C9.71796 25.3367 7.47031 24.1992 5.63281 22.3672C3.80078 20.5297 2.66328 18.282 2.25859 15.6898C2.12734 14.8313 2.12734 13.1688 2.25859 12.3102C2.66328 9.71798 3.80078 7.47032 5.63281 5.63282C7.78202 3.48907 10.4945 2.29688 13.5516 2.15469C14.35 2.11641 14.618 2.02891 14.8312 1.74454C14.9789 1.54219 15.0937 1.25235 15.0937 1.07188C15.0937 0.683599 14.793 0.213287 14.4539 0.0765686C14.2844 0.005476 13.2016 -0.0163994 12.6055 0.0382881Z"
                    fill="white"
                  />
                  <path
                    d="M26.0039 3.6039C25.8508 3.66953 23.8875 5.58906 19.4141 10.0461L13.043 16.3953L10.7188 13.8687C9.11641 12.1297 8.32891 11.3148 8.18125 11.2437C7.875 11.0961 7.44297 11.1125 7.14219 11.2875C6.80313 11.4844 6.58985 11.9164 6.6336 12.3102C6.65547 12.4633 6.71563 12.6656 6.77579 12.7586C6.91797 12.9828 12.2281 18.7414 12.425 18.8891C12.6109 19.0203 13.1414 19.0695 13.4203 18.9766C13.568 18.9273 15.2195 17.3195 20.4586 12.0969C24.5656 8.00625 27.3383 5.20078 27.4039 5.08047C27.4695 4.94375 27.5078 4.75781 27.5078 4.55C27.5078 3.76797 26.7258 3.27578 26.0039 3.6039Z"
                    fill="white"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_281_2843">
                    <rect width="28" height="28" rx="8" fill="white" />
                  </clipPath>
                </defs>
              </svg>
              <p>Completed</p>
            </div>
          </div>
        </div>
        <div className={styles.pending}>
          <div className={styles.statusBox}>
            <h2>{data?.booking_pending}</h2>
            <div className={styles.icon}>
              <svg
                width="28"
                height="28"
                viewBox="0 0 28 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clipPath="url(#clip0_287_3296)">
                  <path
                    d="M12.25 0.0820446C9.78359 0.399231 7.59062 1.28517 5.57812 2.77814C4.75781 3.39064 3.39062 4.75783 2.77813 5.57814C1.76094 6.95079 1.05547 8.33439 0.579688 9.90939C0.164063 11.2766 0.00546885 12.4305 0.00546885 14C0.00546885 15.5695 0.164063 16.7235 0.579688 18.0906C1.26328 20.3383 2.37891 22.1813 4.09609 23.9039C5.82422 25.6266 7.66172 26.7367 9.92031 27.4203C11.3586 27.8578 12.5945 28.0219 14.3008 27.9891C15.3727 27.9727 15.4656 27.9617 15.6844 27.8469C16.0289 27.661 16.2422 27.3 16.2422 26.9008C16.2422 26.5125 16.1766 26.332 15.9523 26.0969C15.6516 25.7797 15.5367 25.7578 14.257 25.7578C12.7914 25.7578 12.1352 25.6813 10.9594 25.375C8.99609 24.8555 7.18594 23.8055 5.69297 22.307C3.92656 20.5406 2.84375 18.4625 2.36797 15.9141C2.23125 15.1703 2.23125 12.8297 2.36797 12.0859C2.84375 9.53751 3.92656 7.45939 5.69297 5.69298C7.44844 3.93204 9.56484 2.83282 12.0586 2.37345C12.7039 2.25861 14.5086 2.20939 15.2469 2.29142C18.1945 2.61407 21.0547 4.11798 22.9414 6.34376C23.1602 6.60079 23.5102 7.06564 23.7289 7.38283L24.1227 7.95704L22.4383 7.98439C20.7922 8.01173 20.7484 8.0172 20.5461 8.13751C19.8625 8.56408 19.9008 9.66876 20.6117 10.0461C20.8523 10.1719 20.8633 10.1719 22.9359 10.1719C25.2109 10.1719 25.3422 10.1555 26.0148 9.84376C26.7312 9.51017 27.2891 8.96329 27.6445 8.24142C27.9836 7.53595 28 7.42111 28 5.17345C28 3.22658 27.9945 3.14454 27.8852 2.90939C27.8141 2.7672 27.6773 2.61407 27.5461 2.52658C27.3547 2.40079 27.2672 2.37892 26.9063 2.37892C26.5453 2.37892 26.4578 2.40079 26.2664 2.52658C26.1352 2.61407 25.9984 2.7672 25.9273 2.90939C25.818 3.13907 25.8125 3.23204 25.8125 4.78517V6.42032L25.5445 6.03204C24.8227 4.97658 23.4938 3.58751 22.5148 2.8547C20.6445 1.44923 18.6375 0.585169 16.2695 0.158606C15.4273 0.00548172 13.1523 -0.038269 12.25 0.0820446Z"
                    fill="white"
                  />
                  <path
                    d="M13.4641 4.2711C13.3273 4.34219 13.1633 4.48438 13.0813 4.61016L12.9336 4.83438L12.9172 9.15469L12.9063 13.4805L10.8336 15.5586C9.69609 16.7016 8.71719 17.7242 8.6625 17.8281C8.47109 18.2164 8.58594 18.8781 8.89219 19.1461C9.25859 19.4688 9.83281 19.5289 10.232 19.2883C10.5875 19.0805 14.9023 14.7328 15.0117 14.4813C15.0828 14.3008 15.0938 13.6938 15.0938 9.61407C15.0938 4.98204 15.0938 4.95469 14.9789 4.71407C14.8094 4.36407 14.5141 4.18907 14.0602 4.16719C13.7703 4.15626 13.65 4.17266 13.4641 4.2711Z"
                    fill="white"
                  />
                  <path
                    d="M26.1516 15.7828C25.7797 15.9688 25.6484 16.1984 25.4242 17.057C25.2383 17.7899 25.2383 18.0141 25.4133 18.3641C25.7633 19.0367 26.8242 19.1133 27.2781 18.4953C27.5023 18.1836 27.8086 16.9859 27.7594 16.6031C27.6719 15.832 26.868 15.4219 26.1516 15.7828Z"
                    fill="white"
                  />
                  <path
                    d="M24.0461 20.6391C23.7836 20.7375 23.6961 20.8141 23.2422 21.3555C22.7664 21.9242 22.6898 22.05 22.6352 22.3289C22.5641 22.7063 22.6734 23.0563 22.9359 23.3242C23.3023 23.6906 23.7945 23.7563 24.2813 23.5156C24.5055 23.4008 25.3641 22.3672 25.4625 22.0828C25.6539 21.5633 25.4188 20.9508 24.932 20.6992C24.7078 20.5789 24.2813 20.5516 24.0461 20.6391Z"
                    fill="white"
                  />
                  <path
                    d="M19.4305 24.4672C18.4953 24.9266 18.2656 25.1836 18.2656 25.7742C18.2656 26.4031 18.7305 26.868 19.3484 26.868C19.6273 26.868 19.7422 26.8297 20.3875 26.5016C21.257 26.0586 21.3937 25.9055 21.4266 25.3477C21.4703 24.6695 21.0055 24.1719 20.3273 24.1719C20.0812 24.1719 19.9336 24.2211 19.4305 24.4672Z"
                    fill="white"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_287_3296">
                    <rect width="28" height="28" rx="8" fill="white" />
                  </clipPath>
                </defs>
              </svg>

              <p>Pending</p>
            </div>
          </div>
        </div>
        <div className={styles.cancelled}>
          <div className={styles.statusBox}>
            <h2>{data?.booking_cancel}</h2>
            <div className={styles.icon}>
              <svg
                width="28"
                height="28"
                viewBox="0 0 28 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12.6328 1.20861C12.0531 1.26876 11.3422 1.40001 10.9102 1.51486C10.6695 1.58595 10.5273 1.66798 10.3578 1.83204C10.0844 2.10548 9.98594 2.37345 10.0188 2.76173C10.0516 3.15001 10.2156 3.43986 10.5109 3.6422C10.8609 3.87736 11.1398 3.91017 11.7359 3.77892C12.4852 3.61486 13.1305 3.54923 14.0273 3.54923C18.7688 3.5547 22.9031 6.74298 24.1117 11.3258C24.3906 12.3813 24.4617 13.0539 24.4289 14.3008C24.3961 15.5313 24.2758 16.2641 23.9203 17.3141C22.6625 21.0711 19.4031 23.7836 15.4492 24.3633C14.6727 24.4781 13.3273 24.4781 12.5453 24.3633C8.88672 23.8328 5.80234 21.4594 4.36953 18.0742C3.52734 16.0836 3.34688 14.1039 3.77891 11.6703C3.87188 11.1508 3.78984 10.8391 3.47266 10.5219C3.19922 10.2485 2.93125 10.15 2.54297 10.1828C1.85938 10.2375 1.55313 10.5985 1.37813 11.55C1.21406 12.4414 1.14844 13.1195 1.14844 14.011C1.14844 18.3313 3.30313 22.3399 6.92344 24.7297C10.8445 27.3274 15.8648 27.5625 20.0594 25.3477C20.6609 25.025 21.2133 24.6695 21.9023 24.15C22.4656 23.7344 23.7289 22.4656 24.1555 21.9024C25.5336 20.0703 26.3813 18.107 26.7258 15.9031C26.8625 15.0336 26.8625 12.9664 26.7258 12.0969C26.3813 9.89298 25.5336 7.9297 24.1555 6.09767C23.7289 5.53439 22.4656 4.27111 21.9023 3.84455C20.0867 2.47736 18.107 1.62423 15.9633 1.28517C15.2906 1.17579 13.3164 1.13205 12.6328 1.20861Z"
                  fill="white"
                />
                <path
                  d="M6.75392 3.49456C6.66642 3.51643 6.51876 3.57659 6.42579 3.62581C5.61642 4.05237 3.51095 6.28362 3.41251 6.81409C3.30314 7.41018 3.52736 7.94065 3.9922 8.18674C4.20001 8.30159 4.29845 8.31799 4.62657 8.30159C5.11329 8.27971 5.26642 8.18128 5.7422 7.57424C6.22345 6.96721 6.83048 6.34924 7.42111 5.86799C8.01173 5.39221 8.14298 5.20081 8.18673 4.78518C8.24689 4.20549 7.90782 3.68596 7.36642 3.52737C7.06564 3.43987 7.00548 3.4344 6.75392 3.49456Z"
                  fill="white"
                />
                <path
                  d="M10.1117 9.64141C9.75078 9.83281 9.55391 10.15 9.52656 10.5766C9.48828 11.1836 9.50469 11.2109 10.9594 12.6766L12.2719 14L11.0086 15.2742C9.64141 16.6414 9.51562 16.8109 9.51562 17.3086C9.51562 17.9703 10.0352 18.4844 10.7023 18.4844C11.1891 18.4789 11.3695 18.3477 12.7313 16.9914L14 15.7281L15.2742 16.9914C16.6414 18.3586 16.8109 18.4844 17.3086 18.4844C17.9703 18.4844 18.4844 17.9648 18.4844 17.2977C18.4789 16.8109 18.3477 16.6305 16.9914 15.2742L15.7281 14L17.0242 12.6984C17.8445 11.8727 18.3477 11.3203 18.4023 11.1945C18.5281 10.8883 18.5117 10.4016 18.3586 10.1117C18.1672 9.75078 17.85 9.55391 17.4234 9.52656C16.8164 9.48828 16.7891 9.50469 15.3234 10.9539L14 12.2719L12.6984 10.9758C11.8727 10.1555 11.3203 9.65234 11.1945 9.59766C10.8883 9.47188 10.4016 9.48828 10.1117 9.64141Z"
                  fill="white"
                />
              </svg>

              <p>Cancelled</p>
            </div>
          </div>
        </div>
      </div>


      <Row>
        <h2
          style={{ fontSize: "25px", margin: "30px 0px", fontWeight: "normal" }}
        >
          Recent Appointments
        </h2>
      </Row>
      <InvoiceTable />
    </div>
  );
}

export default DashboardHome;
